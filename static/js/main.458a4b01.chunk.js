(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{72:function(e,t,n){e.exports=n(86)},77:function(e,t,n){},86:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),i=n.n(o),c=(n(77),n(54)),l=n(47),u=n(14),s=n(124),p=n(122),f=n(125),d=n(121),m=n(22),h=n.n(m),x=n(42),g=new URLSearchParams(window.location.search).get("host"),b=null!==g?g:"http://34.67.21.85:8000";function y(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=[e[n],e[t]];e[t]=a[0],e[n]=a[1]}return e}var w=n(55),v=n.n(w),E=n(116),S=window.location.host.includes("poop")?"\ud83d\udca9":window.location.host.includes("lizard")?"\ud83d\udc38":"\ud83d\udc4d",j=window.location.host.includes("poop")?"\u2764\ufe0f":window.location.host.includes("lizard")?"\ud83d\udc68\ud83c\udffc\u200d\ud83e\uddb2":"\ud83d\udc4e",O=n(59),k=n.n(O),D=function(e){return r.a.createElement(s.a,{position:"relative",width:"90vw",maxWidth:"460px",height:"500px",boxShadow:"0px 0px 60px 0px rgba(0,0,0,0.30)",borderRadius:20,style:{backgroundColor:"white",backgroundSize:"cover",backgroundPosition:"center"},display:"flex",flexDirection:"column",justifyContent:"stretch"},r.a.createElement(s.a,{position:"relative",borderRadius:20,marginTop:"16px",marginLeft:"16px",marginRight:"16px",height:400,style:{background:"url(".concat(e.imgsrc,")"),backgroundColor:"white",backgroundSize:"cover",backgroundPosition:"center"},display:"flex",flexDirection:"column-reverse"},r.a.createElement(s.a,{position:"absolute",bottom:"20px",left:"20px",borderRadius:20,paddingX:"20px",paddingY:"10px",style:{backgroundColor:"white",color:"rgb(91, 155, 189)",fontWeight:"bolder",fontSize:"20px"},display:"flex",flexDirection:"row",alignItems:"center"},r.a.createElement(s.a,null,Math.floor(100*(e.n+e.y===0?0:e.y/(e.n+e.y)))),r.a.createElement(s.a,{marginLeft:"3px",marginRight:"10px"},"%"),r.a.createElement(s.a,{marginTop:"2px"},S))),r.a.createElement(s.a,{flex:1}),r.a.createElement(s.a,{p:"16px",style:{color:"rgb(91, 155, 189)",fontWeight:"bolder"}},r.a.createElement(s.a,{style:{fontSize:"2em",textAlign:"right"}},e.name),r.a.createElement(s.a,{style:{fontSize:"1em",textAlign:"right"}},e.party)),r.a.createElement(s.a,{height:"25px"}))},C=function(e){var t=e.people,n=e.onSelect,a=r.a.useState(0),o=Object(u.a)(a,2),i=o[0],c=o[1],l=r.a.useMemo((function(){return Array(t.length).fill(0).map((function(e){return r.a.createRef()}))}),[t.length]);return r.a.createElement(s.a,{display:"flex",flexDirection:"column",paddingTop:"20px"},r.a.createElement(s.a,{display:"flex",flexDirection:"row",height:"500px"},r.a.createElement(s.a,{flex:3},t&&t.slice(i,i+3).reverse().map((function(e,t){return r.a.createElement(s.a,{key:e.id,position:"absolute",left:"50%",style:{WebkitUserSelect:"none",transform:"translateX(-50%)"}},r.a.createElement(v.a,{ref:l[i+1-t],flickOnSwipe:!0,key:e.id,preventSwipe:["up","down"],onCardLeftScreen:function(t){n(e,"right"===t),c((function(e){return e+1}))}},r.a.createElement(D,e)))})))),r.a.createElement(s.a,{paddingX:"25px",width:"80vw",maxWidth:"300px",alignSelf:"center",display:"flex",flexDirection:"row",marginTop:"-30px",justifyContent:"space-between"},r.a.createElement(s.a,null,r.a.createElement(E.a,{style:{background:"#5b9bbd",fontSize:35},onClick:function(){return l[i].current.swipe("left")}},j)),r.a.createElement(s.a,null,r.a.createElement(E.a,{style:{background:"#5b9bbd",fontSize:40,color:"white"},onClick:function(){window.location.href="https://wa.me/?text="+encodeURIComponent(window.location.href)}},r.a.createElement(k.a,{width:"35px",height:"35px"}))),r.a.createElement(s.a,null,r.a.createElement(E.a,{style:{background:"#5b9bbd",fontSize:35},onClick:function(){return l[i].current.swipe("right")}},S))))},T=n(120),P=n(118),z=n(61),I=n.n(z),R=n(60),W=n.n(R),L=n(62),J=n(119);function M(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?M(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):M(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=Object(L.a)({direction:"rtl",palette:{primary:{main:"#ffffff"},secondary:{main:"#ffffff"}}}),Y=function(e){var t=e.people;return r.a.createElement(s.a,{position:"absolute",marginTop:"5px",display:"flex",flexDirection:"column",alignItems:"center",style:{inset:0}},t.map((function(e){var t=e.n+e.y===0?0:e.y/(e.n+e.y);return r.a.createElement(s.a,{key:e.id,display:"flex",flexDirection:"row",marginTop:"5px"},r.a.createElement(s.a,{marginTop:"10px"},j),r.a.createElement(s.a,{width:"4px"}),r.a.createElement(s.a,{key:e.id,display:"flex",flexDirection:"column",marginTop:"5px"},r.a.createElement(s.a,{textAlign:"center"},e.name),r.a.createElement(s.a,{width:"200px",height:"15px",marginTop:"3px"},r.a.createElement(P.a,{variant:"determinate",value:100*t}))),r.a.createElement(s.a,{width:"4px"}),r.a.createElement(s.a,{marginTop:"10px"},S))})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement((function(){var e=function(){var e=r.a.useState(!1),t=Object(u.a)(e,2),n=t[0],a=t[1],o=r.a.useState(!1),i=Object(u.a)(o,2),c=i[0],l=i[1],s=r.a.useState(void 0),p=Object(u.a)(s,2),f=p[0],d=p[1];return r.a.useEffect((function(){(function(){var e=Object(x.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a(!0),e.next=4,fetch(b+"/api/v1/lj/");case 4:return t=e.sent,e.t0=d,e.t1=y,e.next=9,t.json();case 9:e.t2=e.sent,e.t3=(0,e.t1)(e.t2),(0,e.t0)(e.t3),a(!1),e.next=18;break;case 15:e.prev=15,e.t4=e.catch(0),l(!0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[]),r.a.useMemo((function(){return{people:f,isLoading:n,isError:c}}),[f,n,c])}(),t=e.people,n=e.isError,a=e.isLoading,o={voteYes:function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/v1/lj/vote_y/"+t);case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),voteNo:function(){var e=Object(x.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b+"/api/v1/lj/vote_n/"+t);case 2:return e.next=4,e.sent.json();case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},i=o.voteYes,c=o.voteNo,m=r.a.useState([]),g=Object(u.a)(m,2),w=(g[0],g[1]),v=r.a.useState(0),E=Object(u.a)(v,2),S=E[0],j=E[1],O=r.a.useState(""),k=Object(u.a)(O,2),D=k[0],P=k[1],z=r.a.useState(void 0),R=Object(u.a)(z,2),L=R[0],M=R[1];r.a.useEffect((function(){var e=JSON.parse(window.localStorage.votedIds||"[]");t&&(M(t.filter((function(t){var n=t.id;return!e.includes(n)}))),w(t.filter((function(t){var n=t.id;return e.includes(n)}))))}),[t]);return r.a.createElement(s.a,{display:"flex",position:"absolute",flexDirection:"column",width:"100%",minHeight:"100%"},r.a.createElement(s.a,{flex:1,style:{background:"#dbe9f0"},display:"flex",flexDirection:"column"},r.a.createElement(s.a,{height:0===S?"15px":void 0,justifySelf:"stretch",style:{background:"#5b9bbd"}},1===S&&r.a.createElement(J.a,{theme:A},r.a.createElement(s.a,{dir:"rtl",color:"white",display:"flex",alignItems:"stretch",justifyItems:"stretch",flexDirection:"column",p:"10px"},r.a.createElement(p.a,{id:"standard-basic",onChange:function(e){P(e.target.value)},value:D,autoFocus:!0})))),r.a.createElement(s.a,{position:"relative",flex:1,display:"flex",flexDirection:"column",paddingTop:"10px",style:{overflowY:"scroll"}},a&&r.a.createElement(s.a,{paddingTop:"30px",alignSelf:"center"},r.a.createElement(T.a,null)),n&&r.a.createElement(s.a,null,"error"),L&&0===S&&r.a.createElement(C,{people:L,onSelect:function(e,t){(t?i:c)(e.id).then((function(t){w((function(e){return e.map((function(e){return e.id===t.id?t:e}))})),window.localStorage.votedIds=JSON.stringify([e.id].concat(Object(l.a)(JSON.parse(window.localStorage.votedIds||"[]"))))})),w((function(n){return[N({},e,{y:e.y+(t?1:0),n:e.n+(t?0:1)})].concat(Object(l.a)(n))}))}}),L&&1===S&&r.a.createElement(Y,{people:t.filter((function(e){return e.name.includes(D.trim())}))}))),r.a.createElement(s.a,{position:"absolute",bottom:0,left:0,right:0,justifySelf:"stretch",style:{background:"#5b9bbd"}},r.a.createElement(J.a,{theme:A},r.a.createElement(f.a,{value:S,onChange:function(e,t){j(t)},variant:"fullWidth",indicatorColor:"primary",textColor:"primary","aria-label":"icon tabs example"},r.a.createElement(d.a,{icon:r.a.createElement(W.a,null),"aria-label":"favorite"}),r.a.createElement(d.a,{icon:r.a.createElement(I.a,null),"aria-label":"search"})))))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[72,1,2]]]);
//# sourceMappingURL=main.458a4b01.chunk.js.map